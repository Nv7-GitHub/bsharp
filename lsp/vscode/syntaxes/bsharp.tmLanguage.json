{
	"$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
	"name": "B#",
	"scopeName": "source.bsharp",
	"patterns": [
		{
			"include": "#call"
		},
		{
			"include": "#node"
		},
		{
			"include": "#comment"
		}
	],
	"repository": {
		"value": {
			"patterns": [
				{
					"include": "#call"
				},
				{
					"include": "#node"
				},
				{
					"include": "#comment"
				},
				{
					"include": "#string"
				},
				{
					"include": "#byte"
				},
				{
					"include": "#number"
				},
				{
					"include": "#keyword"
				},
				{
					"include": "#ident"
				},
				{
					"include": "#type"
				},
				{
					"include": "#func"
				},
				{
					"include": "#var"
				},
				{
					"include": "#field"
				}
			]
		},
		"ident": {
			"match": "(?:\\p{L}|\\{|\\}|\\+|-|\\*|\\/|%|==|!=|<=|>=|<|>|\\^|,|:)+",
			"name": "token.ident.bsharp"
		},
		"number": {
			"match": "(?:-)?(?:[0-9]|\\.)*[0-9]",
			"name": "constant.numeric.bsharp"
		},
		"string": {
			"begin": "\"",
			"end": "\"",
			"name": "string.bsharp",
			"patterns": [
				{
					"include": "#string_escaped_char"
				}
			]
		},
		"byte": {
			"begin": "'",
			"end": "'",
			"name": "string.quoted.single.bsharp",
			"patterns": [
				{
					"include": "#string_escaped_char"
				}
			]
		},
		"string_escaped_char": {
			"match": "\\\\[nt\"\\\\']",
			"name": "constant.character.escape"
		},
		"comment": {
			"begin": "#",
			"end": "#|\\n",
			"name": "comment.bsharp"
		},
		"call": {
			"begin": "\\[(@[^ \\t\\n\\]]+)",
			"end": "\\]",
			"captures": {
				"1": {
					"name": "entity.name.function.bsharp"
				}
			},
			"name": "expression.tag.bsharp",
			"patterns": [
				{
					"include": "#value"
				}
			]
		},
		"node": {
			"begin": "\\[([^ \\t\\n\\]]+)",
			"end": "\\]",
			"captures": {
				"1": {
					"name": "keyword.function.bsharp"
				}
			},
			"name": "expression.tag.bsharp",
			"patterns": [
				{
					"include": "#value"
				}
			]
		},
		"type": {
			"match": "\\$([^ \\t\\n\\]]+)",
			"name": "entity.name.type.bsharp"
		},
		"func": {
			"match": "\\@([^ \\t\\n\\]]+)",
			"name": "entity.name.function.bsharp"
		},
		"var": {
			"match": "!([^ \\t\\n\\]]+)",
			"name": "variable.other.property.bsharp"
		},
		"field": {
			"match": "\\.([^ \\t\\n\\]]+)",
			"name": "variable.parameter.bsharp"
		}
	}
}